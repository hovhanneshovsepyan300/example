import React from 'react'
import PropTypes from 'prop-types'
import { connect } from 'react-redux'
import { withHeaderLogoSrcContext } from '../Contexts'
import utils from '../utils/helpers'

const propTypes = {
  className: PropTypes.string,
  headerLogoSrc: PropTypes.string,
  event: PropTypes.object,
  adminEvent: PropTypes.object,
  client: PropTypes.object,
}

const HaloLogo = ({ className, headerLogoSrc, event, adminEvent, client }) => {
  const localEvent = event || adminEvent || client
  const hasClientBranding = utils.hasBranding(localEvent?.client || client)

  return (
    <div className={`halo-logo ${className}`}>
      {localEvent && hasClientBranding && headerLogoSrc ? (
        <img src={headerLogoSrc} alt="logo" />
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 49 73"
          width="49px"
          height="73px"
          version="1.1"
        >
          <g
            id="Page-1"
            fill="none"
            fillRule="evenodd"
            stroke="none"
            strokeWidth="1"
          >
            <g id="halo" fill="#ffffff">
              <path
                id="Shape"
                fillRule="nonzero"
                d="M 8.03 72.15 L 8.03 66.01 L 3.893 66.01 L 3.893 72.151 L 0 72.151 L 0 56.645 L 3.892 56.645 L 3.892 62.612 L 8.031 62.612 L 8.031 56.645 L 11.923 56.645 L 11.923 72.15 L 8.03 72.15 Z M 20.708 72.15 L 20.708 71.193 C 19.973 71.912 19.308 72.259 18.038 72.259 C 16.836 72.259 15.835 71.867 15.168 71.213 C 14.48 70.538 14.123 69.558 14.123 68.468 C 14.123 66.703 15.347 65.071 18.193 65.071 L 20.617 65.071 L 20.617 64.766 C 20.617 63.7 20.084 63.306 18.814 63.306 C 17.879 63.306 17.479 63.523 16.901 64.089 L 14.633 61.869 C 15.858 60.669 16.969 60.301 18.993 60.301 C 22.417 60.301 24.265 61.694 24.265 64.547 L 24.265 72.148 L 20.708 72.148 L 20.708 72.15 L 20.708 72.15 Z M 20.62 67.446 L 18.774 67.446 C 18.063 67.446 17.618 67.838 17.618 68.382 C 17.618 68.904 18.018 69.362 18.819 69.362 C 19.531 69.362 19.865 69.295 20.265 68.926 C 20.532 68.687 20.622 68.316 20.622 67.749 L 20.622 67.446 L 20.62 67.446 L 20.62 67.446 Z M 30.428 72.15 C 27.78 72.15 26.714 70.3 26.714 68.687 L 26.714 56.645 L 30.363 56.645 L 30.363 68.426 C 30.363 68.884 30.606 69.145 31.097 69.145 L 32.364 69.145 L 32.364 72.15 L 30.428 72.15 L 30.428 72.15 Z M 42.552 70.78 C 41.84 71.52 40.638 72.28 38.705 72.28 C 36.769 72.28 35.57 71.518 34.855 70.78 C 33.855 69.711 33.543 68.6 33.543 66.292 C 33.543 64.005 33.855 62.872 34.856 61.807 C 35.567 61.067 36.769 60.306 38.705 60.306 C 40.641 60.306 41.84 61.069 42.552 61.807 C 43.552 62.873 43.864 64.007 43.864 66.292 C 43.864 68.601 43.552 69.712 42.552 70.779 L 42.552 70.78 Z M 39.68 63.853 C 39.46 63.636 39.147 63.525 38.702 63.525 C 38.257 63.525 37.946 63.634 37.724 63.853 C 37.257 64.31 37.191 65.138 37.191 66.292 C 37.191 67.446 37.259 68.274 37.724 68.732 C 37.946 68.948 38.257 69.059 38.702 69.059 C 39.147 69.059 39.459 68.95 39.68 68.731 C 40.148 68.274 40.213 67.446 40.213 66.292 C 40.216 65.138 40.148 64.31 39.68 63.852 L 39.68 63.853 Z"
              />
              <g id="Group" fillRule="nonzero" transform="translate(1)">
                <path
                  id="Shape"
                  d="M 30.954 17.807 C 22.422 5.103 11.152 -2.221 5.778 1.447 C 0.405 5.114 2.964 18.39 11.491 31.094 C 20.023 43.798 31.293 51.122 36.669 47.454 C 42.045 43.783 39.484 30.507 30.954 17.806 L 30.954 17.807 Z M 35.208 44.786 C 31.114 47.583 22.518 41.999 16.02 32.319 C 9.51827 22.634 7.563 12.519 11.663 9.721 C 15.757 6.923 24.349 12.505 30.853 22.191 C 37.354 31.873 39.304 41.989 35.208 44.786 Z"
                />
                <path
                  id="Shape"
                  d="M 22.407 27.14 C 11.56 29.542 3.588 35.272 4.605 39.94 C 5.621 44.605 15.241 46.44 26.086 44.041 C 36.932 41.639 44.903 35.909 43.886 31.243 C 42.872 26.573 33.256 24.743 22.407 27.14 L 22.407 27.14 Z M 41.542 31.554 C 42.412 35.54 35.602 40.438 26.337 42.488 C 17.069 44.541 8.851 42.973 7.986 38.985 C 7.116 34.999 13.926 30.103 23.194 28.053 C 32.459 26 40.677 27.568 41.542 31.553 L 41.542 31.554 Z"
                />
                <path
                  id="Shape"
                  d="M 21.977 39.321 C 24.908 46.369 28.689 51.268 30.421 50.266 C 32.153 49.261 31.179 42.731 28.251 35.685 C 25.321 28.635 21.54 23.738 19.808 24.743 C 18.075 25.745 19.049 32.276 21.978 39.321 L 21.977 39.321 Z M 20.359 26.281 C 21.836 25.424 25.067 29.606 27.571 35.629 C 30.074 41.649 30.906 47.226 29.424 48.086 C 27.948 48.947 24.716 44.76 22.212 38.74 C 19.709 32.717 18.877 27.14 20.359 26.28 L 20.359 26.281 Z"
                />
                <path
                  id="Shape"
                  d="M 12.79 23.674 C 2.23 33.663 -2.787 45.326 1.58 49.733 C 5.945 54.134 18.045 49.608 28.603 39.62 C 39.16 29.634 44.18 17.968 39.813 13.566 C 35.448 9.16 23.348 13.689 12.79 23.674 Z M 37.39 15.497 C 41.12 19.26 36.834 29.226 27.814 37.755 C 18.794 46.288 8.456 50.159 4.726 46.395 C 0.996 42.634 5.283 32.668 14.306 24.135 C 23.323 15.601 33.66 11.735 37.39 15.497 Z"
                />
                <path
                  id="Shape"
                  d="M 27.8 44.003 C 27.8 44.003 26.39 43.21 25.44 42.491 C 24.488 41.769 23.727 41.17 23.287 40.757 C 22.85 40.344 22.167 39.727 21.952 39.517 L 21.53 42.6 C 21.53 42.6 24.814 45.38 26.873 46.385 L 27.801 44.003 L 27.8 44.003 Z M 28.183 37.182 C 28.183 37.182 28.813 38.959 28.979 39.518 L 29.503 39.005 C 29.503 39.005 28.994 37.503 28.668 36.72 L 28.183 37.182 Z M 18.877 28.068 L 19.727 27.818 L 19.727 28.983 L 18.986 29.228 L 18.877 28.068 Z M 11.743 24.45 L 12.507 26.168 L 10.072 28.887 L 9.101 27.255 L 11.743 24.45 Z M 36.53 26.485 C 36.53 26.485 38.126 26.811 38.662 26.982 L 37.979 28.222 C 37.979 28.222 36.709 27.77 35.898 27.617 L 36.53 26.484 L 36.53 26.485 Z M 12.38 32.385 C 12.48 32.319 14.085 31.276 15.069 30.848 L 15.628 31.725 C 14.75 32.161 13.898 32.706 13.063 33.331 L 12.381 32.385 L 12.38 32.385 Z M 35.716 31.551 L 37.114 29.496 L 37.511 30.575 L 36.115 32.691 L 35.716 31.551 Z"
                />
                <path
                  id="Shape"
                  d="M 33.852 27.295 L 34.229 28.06 C 34.661 28.12 35.117 28.198 35.587 28.298 L 35.977 27.635 C 35.979 27.632 35.077 27.431 33.852 27.295 Z M 37.344 39.834 C 37.344 39.834 38.836 38.934 39.39 38.523 L 39.456 39.431 C 39.456 39.431 38.736 40.063 37.284 40.673 L 37.344 39.833 L 37.344 39.834 Z M 30.13 45.046 C 30.13 45.046 30.317 46.693 29.783 47.716 L 28.618 47.256 C 28.618 47.256 29.568 47.917 29.513 44.814 L 30.13 45.046 Z M 24.89 45.194 L 26.246 46.046 L 27.118 47.058 L 25.227 45.745 L 24.89 45.194 Z M 21.681 42.728 L 21.054 43.148 C 21.054 43.148 22.074 43.858 22.931 44.368 L 23.351 44.057 C 23.353 44.057 22.351 43.304 21.681 42.728 L 21.681 42.728 Z"
                />
                <path
                  id="Shape"
                  d="M 22.49 44.689 L 23.29 44.572 L 23.902 44.47 L 23.352 44.057 L 22.49 44.689 Z M 19.07 29.203 L 19.633 29.014 L 19.669 29.542 L 19.137 29.712 L 19.07 29.203 Z M 22.478 27.125 C 22.478 27.125 22.758 27.405 22.848 27.499 C 22.974 27.635 23.302 28.027 23.302 28.027 L 22.933 28.109 L 22.04 27.221 L 22.478 27.125 L 22.478 27.125 Z M 25.922 16.007 C 25.922 16.007 27.852 15.145 28.85 14.851 L 29.452 15.662 C 29.452 15.662 27.902 16.027 26.676 16.82 L 25.922 16.007 Z M 37.91 28.198 C 37.91 28.198 37.132 27.941 36.925 27.879 C 36.717 27.819 36.49 27.742 35.976 27.632 L 35.586 28.295 C 35.586 28.295 36.646 28.568 37.504 28.874 L 37.911 28.198 L 37.91 28.198 Z M 28.24 37.347 C 28.24 37.347 28.833 39.048 28.919 39.321 L 28.565 39.655 L 27.927 37.645 L 28.241 37.347 L 28.24 37.347 Z M 29.563 41.632 C 29.563 41.632 29.816 42.764 29.864 43.037 L 29.391 43.182 L 29.116 41.769 L 29.563 41.632 L 29.563 41.632 Z M 9.182 27.387 L 9.989 28.744 L 9.144 29.799 L 8.274 28.399 L 9.182 27.387 Z"
                />
              </g>
              <text
                id="®"
                fontFamily="Helvetica"
                fontSize="14"
                fontWeight="400"
              >
                <tspan x="44" y="66">
                  ®
                </tspan>
              </text>
            </g>
          </g>
        </svg>
      )}
    </div>
  )
}

HaloLogo.propTypes = propTypes

HaloLogo.defaultProps = {
  className: '',
  headerLogoSrc: null,
  event: null,
  adminEvent: null,
  client: null,
}

export default connect(state => ({
  event: state.currentEvent.event,
}))(withHeaderLogoSrcContext(HaloLogo))
